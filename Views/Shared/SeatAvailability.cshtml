@model List<AlaskaExpress.Models.ButtonModel>

@{
    ViewBag.Title = "SeatAvailability";
}

<div class="row mx-5">
    <div class="col-xs-10 col-sm-10 col-md-6 col-lg-6 my-5">
        <h2>Available Seats</h2>

        <div style="text-align:center">
            @using (Html.BeginForm("HandleSeatClick", "Schedule"))
            {
                for (int i = 0; i < Model.Count; i++)
                {
                    if (i == 2)
                    {
                        @:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
                        <img src="~/Images/block.png" />
                        @:&nbsp; &nbsp; &nbsp;
                        <img src="~/Images/steering.png" />
                        @:&nbsp;
                    }

                    if (i == 2)
                    {
                        <br />
                    }

                    if (i == 2 || i == 6 || i == 10 || i == 14 || i == 18)
                    {
                        <br />
                    }

                    if (i == 4 || i == 8 || i == 12 || i == 16 || i == 20)
                    {
                        @:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
                    }

                    <button type="submit" name="mine" value=@i>
                        @if (Model[i].State == 0)
                        {
                            <img src="~/Images/Black.png" />
                        }
                        else if (Model[i].State == 1)
                        {
                            <img src="~/Images/Blue.png" />
                        }
                        else if (Model[i].State == 2)
                        {
                            <img src="~/Images/Red.png" />
                        }
                    </button>
                }
            }
        </div>

        <div class="py-3">
            <button type="submit" class="btn btn-primary" name="buttonForSeatConfirm">Confirm</button>
        </div>

    </div>

    <div class="col-xs-10 col-sm-10 col-md-6 col-lg-6 my-5">
        <div class="py-3">

            <label for="selectedAllSeats" class="form-label">Selected Seats</label>
            <input type="text" class="form-control" name="selectedAllSeats" id="selectedAllSeats">

        </div>
    </div>
</div>

<br />
<br />
<br />
<br />
<br />
<br />


@Scripts.Render("~/bundles/jquery")
<script>
    $(function () {
    //notification
    /*
    $("#buttonForBusSearch").click(function () {
        alert("Handler for .click() called.");
    });
    */

        //seat clicked
        $("#seatClicked").change(function () {
            if(Model[i].State == 0) {
                Model[i].State = 1
                $("#selectedAllSeats").val(i);
            }
            $("#selectedAllSeats").val("hgfj");
        })

        //show dropdown values in text box
        $("#startLoc").change(function () {
            var startLocValue = $("#startLoc option:selected").text();
            $("#inputJourneyFrom").val(startLocValue);
        })

        $("#endLoc").change(function () {
            var endLocValue = $("#endLoc option:selected").text();
            $("#inputJourneyTo").val(endLocValue);
        })
    })

</script>